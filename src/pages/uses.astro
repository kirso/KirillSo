---
import { Icon } from "astro-icon/components";
import BaseLayout from "@/layouts/Base.astro";
import Schema from "@/components/Schema.astro";

const meta = {
  title: "Uses",
  description: "The tools, software, and hardware I use for work and life.",
};

interface Tool {
  name: string;
  description: string;
  url?: string;
  icon?: string;
  customIcon?: string;
}

interface Category {
  title: string;
  items: Tool[];
}

// Custom SVG icons for tools not in Simple Icons
const customIcons: Record<string, string> = {
  // Dia browser - circle with bite taken out (based on their logo)
  dia: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 0c2.5 0 4.5 2 4.5 4.5S14.5 11 12 11s-4.5-2-4.5-4.5S9.5 2 12 2z",
  // Lofree - keyboard shape
  lofree: "M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7zm3 2v2h2V9H5zm4 0v2h2V9H9zm4 0v2h2V9h-2zm4 0v2h2V9h-2zm-12 4v2h2v-2H5zm3 0v2h8v-2H8zm10 0v2h2v-2h-2z",
  // CleanShot - camera/screenshot icon
  cleanshot: "M4 4h4l2-2h4l2 2h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm0 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4z",
  // Pagefind - magnifying glass with document
  pagefind: "M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7V9z",
  // Plain text - document icon
  plaintext: "M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-1 2l5 5h-5V4zM8 12h8v2H8v-2zm0 4h8v2H8v-2z",
};

// Flatten tools for collection schema
const getCollectionItems = (categories: Category[]) => {
  return categories.flatMap(cat =>
    cat.items.map(item => ({
      name: item.name,
      description: item.description,
      url: item.url,
    }))
  );
};

const uses: Category[] = [
  {
    title: "Hardware",
    items: [
      {
        name: "MacBook Pro M1 Pro",
        description: "16GB RAM. Perfect balance of power and portability.",
        icon: "simple-icons:apple",
      },
      {
        name: "iPhone",
        description: "Nothing fancy, it just works.",
        icon: "simple-icons:apple",
      },
      {
        name: "Beats Fit Pro",
        description: "For calls, travel, and workouts.",
        icon: "simple-icons:beats",
      },
      {
        name: "Lofree Flow",
        description: "Low-profile mechanical keyboard. Quiet and portable.",
        url: "https://www.lofree.co/products/lofree-flow-the-smoothest-mechanical-keyboard",
        customIcon: "lofree",
      },
      {
        name: "Logitech MX Master 3",
        description: "Best mouse for productivity. Horizontal scroll is a game changer.",
        url: "https://www.logitech.com/en-us/products/mice/mx-master-3s.html",
        icon: "simple-icons:logitech",
      },
    ],
  },
  {
    title: "Development",
    items: [
      {
        name: "Claude Code",
        description: "AI-assisted coding in the terminal. Agentic and powerful.",
        url: "https://docs.anthropic.com/en/docs/claude-code",
        icon: "simple-icons:anthropic",
      },
      {
        name: "Codex CLI",
        description: "OpenAI's terminal coding assistant.",
        url: "https://github.com/openai/codex",
        icon: "simple-icons:openai",
      },
      {
        name: "Warp",
        description: "Modern terminal with AI features.",
        url: "https://www.warp.dev/",
        icon: "simple-icons:warp",
      },
      {
        name: "Dia",
        description: "AI-native browser. Safari for general browsing.",
        url: "https://dia.dev/",
        customIcon: "dia",
      },
      {
        name: "Git + GitHub",
        description: "Version control. Occasionally GitLab for work.",
        url: "https://github.com/kirso",
        icon: "simple-icons:github",
      },
    ],
  },
  {
    title: "This Website",
    items: [
      {
        name: "Astro",
        description: "Fast, content-focused, perfect for blogs.",
        url: "https://astro.build/",
        icon: "simple-icons:astro",
      },
      {
        name: "Svelte & SvelteKit",
        description: "Interactive components. Compiler-first approach.",
        url: "https://svelte.dev/",
        icon: "simple-icons:svelte",
      },
      {
        name: "Tailwind CSS",
        description: "Utility-first, no context switching.",
        url: "https://tailwindcss.com/",
        icon: "simple-icons:tailwindcss",
      },
      {
        name: "Geist",
        description: "Vercel's clean sans-serif, self-hosted.",
        url: "https://vercel.com/font",
        icon: "simple-icons:vercel",
      },
      {
        name: "Vercel",
        description: "Zero-config deployments, great DX.",
        url: "https://vercel.com/",
        icon: "simple-icons:vercel",
      },
      {
        name: "Pagefind",
        description: "Static search, no external dependencies.",
        url: "https://pagefind.app/",
        customIcon: "pagefind",
      },
    ],
  },
  {
    title: "Productivity",
    items: [
      {
        name: "Obsidian",
        description: "Personal knowledge management. Markdown-based, local-first.",
        url: "https://obsidian.md/",
        icon: "simple-icons:obsidian",
      },
      {
        name: "Apple Reminders",
        description: "Simple todos. Linear for project work.",
        icon: "simple-icons:apple",
      },
      {
        name: "Google Calendar",
        description: "Boring but reliable.",
        icon: "simple-icons:googlecalendar",
      },
      {
        name: "Apple Music",
        description: "Lossless audio and spatial audio support.",
        icon: "simple-icons:applemusic",
      },
    ],
  },
  {
    title: "Writing",
    items: [
      {
        name: "Plain Text",
        description: "Long-form writing. Markdown everywhere.",
        customIcon: "plaintext",
      },
      {
        name: "Substack",
        description: "Newsletter distribution.",
        url: "https://kirill.substack.com/",
        icon: "simple-icons:substack",
      },
    ],
  },
  {
    title: "Design",
    items: [
      {
        name: "Figma",
        description: "UI/Mockups when needed. Mostly I just code directly.",
        url: "https://figma.com/",
        icon: "simple-icons:figma",
      },
      {
        name: "CleanShot X",
        description: "Annotated screenshots.",
        url: "https://cleanshot.com/",
        customIcon: "cleanshot",
      },
    ],
  },
];
---

<BaseLayout meta={meta}>
  <Schema
    type="collection"
    title={meta.title}
    description={meta.description}
    collectionName="Tools & Setup"
    collectionItems={getCollectionItems(uses)}
  />
  <Schema type="breadcrumb" breadcrumbs={[
    { name: "Home", url: "/" },
    { name: "Uses", url: "/uses/" }
  ]} />
  <article>
    <h1 class="page-title mb-4">Uses</h1>
    <p class="text-text-secondary mb-8">
      A living document of tools I use daily. Inspired by <a href="https://uses.tech/" class="link" target="_blank" rel="noopener">uses.tech</a>.
    </p>
    <p class="text-text-tertiary mb-12" style="font-size: var(--text-micro);">Last updated: December 2024</p>

    <div class="space-y-12">
      {uses.map((category) => (
        <section>
          <div class="section-rule"><span>{category.title}</span></div>
          <div class="divide-y divide-border border border-border">
            {category.items.map((item) => (
              <div class="group p-4 transition-colors hover:bg-global-text hover:text-global-bg">
                <div class="flex items-center gap-4">
                  <div class="flex h-5 w-5 flex-shrink-0 items-center justify-center">
                    {item.icon ? (
                      <Icon
                        name={item.icon}
                        class="h-5 w-5 text-text-tertiary group-hover:text-global-bg"
                      />
                    ) : item.customIcon && customIcons[item.customIcon] ? (
                      <svg
                        class="h-5 w-5 text-text-tertiary group-hover:text-global-bg"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                      >
                        <path d={customIcons[item.customIcon]} />
                      </svg>
                    ) : null}
                  </div>
                  <div class="min-w-0 flex-1">
                    {item.url ? (
                      <a
                        href={item.url}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="font-medium group-hover:underline"
                      >
                        {item.name}
                        <span class="ml-1 inline-block text-text-tertiary transition-transform group-hover:translate-x-0.5 group-hover:text-global-bg">&nearr;</span>
                      </a>
                    ) : (
                      <span class="font-medium">{item.name}</span>
                    )}
                    <p class="mt-0.5 text-text-secondary group-hover:text-global-bg/80" style="font-size: var(--text-micro);">
                      {item.description}
                    </p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </section>
      ))}
    </div>

    <p class="mt-12 text-text-tertiary" style="font-size: var(--text-micro);">
      This page is part of the <a href="https://uses.tech/" class="link" target="_blank" rel="noopener">/uses movement</a> - a collection of developer setups.
    </p>
  </article>
</BaseLayout>
